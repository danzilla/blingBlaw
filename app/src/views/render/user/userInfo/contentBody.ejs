<table class="table table-borderless">
  <thead class="thead-dark">
    <tr class="bg-dark text-light">
      <th scope="col">_id</th>
      <th scope="col">User</th>
      <th scope="col">Pwd</th>
      <th scope="col">Date</th>
      <th scope="col">Modify</th>
    </tr>
  </thead>
  <tbody>
    <% if (data) { %>
      <% for(var i=0; i < data.length; i++) { %>
        <tr class="card-1">
          <form id="remove<%= data[i].userInfo.userId %>" method="post" action="/user/remove">
            <input type="hidden" name="userId" value="<%= data[i].userInfo.userId %>">
          </form>
          <th>
            <%= data[i].userInfo.userId %>
          </th>
          <td>
            <%= data[i].userInfo.userName %>
          </td>
          <td>
            <%= data[i].userInfo.userPwd %>
          </td>
          <td>
            <%= data[i].userInfo.userCreated %>
          </td>
          <td>
            <div class="input-group-append">
              <div class="btn-group" role="group" aria-label="Basic example">
                <button data-toggle="modal" data-target="#modal<%= data[i].userInfo.userId %>" class="btn btn-primary"><i class="fas fa-user-edit"></i></button>
                <button form="remove<%= data[i].userInfo.userId %>" class="btn btn-danger">
                  <i class="fas fa-user-times"></i></button>
              </div>
            </div>
          </td>
        </tr>
        <!-- Modal for update user -->
        <!-- Modal -->
        <div class="modal fade" id="modal<%= data[i].userInfo.userId %>" tabindex="-1" role="dialog" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content card-1">
              <div class=" btn-danger py-2" data-dismiss="modal"> </div>
              <div class="modal-header">
                <h4><%= pageInfo.title %><small>update </small></h4>
              </div>

              <div class="modal-body">
                <form id="update<%= data[i].userInfo.userId %>" method="post" action="/user/update">
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <span class="input-group-text">user</span>
                    </div>
                    <input type="text" name="userName" class="form-control" value="<%= data[i].userInfo.userName %>">
                    <div class="input-group-prepend">
                      <span class="input-group-text">pwd</span>
                    </div>
                    <input type="text" name="userPwd" class="form-control" value="<%= data[i].userInfo.userPwd %>">
                  </div>
                  <hr>
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <span class="input-group-text">Group</span>
                    </div>
                    <input type="text" name="userGrup" class="form-control" value="<%= data[i].userInfo.userGrup %>">
                    <div class="input-group-prepend">
                      <span class="input-group-text">Email</span>
                    </div>
                    <input type="email" name="userEmil" class="form-control" value="<%= data[i].userInfo.userEmil %>">
                  </div>
                  <hr>
                  <div class="alert alert-info py-0 my-0">
                    <p class="py-0 my-0">Collection name (fannyPack): <%= data[i].userInfo.userFannyPack %></p>
                    <p class="py-0 my-0">Created: <%= data[i].userInfo.userCreated %></p>
                    <p class="py-0 my-0">Modified: <%= data[i].userInfo.userModify %></p>
                    <p class="py-0 my-0"User id: <%= data[i].userInfo.userId %></p>
                    <input type="hidden" name="userId" value="<%= data[i].userInfo.userId %>">
                    <input type="hidden" name="fannyPack" value="<%= data[i].userInfo.userFannyPack %>">
                  </div>
                </form>
              </div>
              <div class="modal-footer">
                <button class="mx-2 btn btn-danger" type="button" data-dismiss="modal">Close</button>
                <button form="update<%= data[i].userInfo.userId %>" class="btn btn-primary">
                  Save changes<i class="mx-2 fas fa-user-edit"></i></button>
              </div>
            </div>
          </div>
        </div>
      <% } %>
    <% } %>
  </tbody>
</table>
