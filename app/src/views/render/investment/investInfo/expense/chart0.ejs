
<canvas id="myChart0" class="container"></canvas>
<script>
  // cart Parent category
  var data = <%- JSON.stringify(chartInfoParent.chartData.dataValue) %>;
  var labels = <%- JSON.stringify(chartInfoParent.chartData.dataLabel) %>;
  var bgColor = <%- JSON.stringify(chartInfoParent.chartData.dataColor) %>;
  var title = <%- JSON.stringify(chartInfoParent.chartName) %>;
  var parentId = <%- JSON.stringify(chartInfoParent.chartData.dataParentId) %>;

  var ctx = document.getElementById("myChart0");
  var myChart0 = new Chart(ctx, {
    type: 'doughnut',
    options: {
      title: {
        display: true,
        text: title
      }
    },
    data: {
      labels: labels,
      datasets: [{
        data: data,
        backgroundColor: bgColor
      }],
      parentId: parentId
    }
  });

  // on Click on Parent category - innerHTML
  document.getElementById("myChart0").onclick = function(evt) {
    var activePoints = myChart0.getElementsAtEvent(evt);
    var firstPoint = activePoints[0];
    var label = myChart0.data.labels[firstPoint._index];
    var value = myChart0.data.datasets[firstPoint._datasetIndex].data[firstPoint._index];
    var parentId = myChart0.data.parentId[firstPoint._index];
    var canaNameId = "cana" + parentId;

    if (firstPoint !== undefined) {
      $('.hide').hide();
      $('.show').hide();
      $('#chartDetails'+parentId).show();
    }
  };
</script>
